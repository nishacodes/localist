<h1>Welcome to My Favorite Places</h1>

<% if user_signed_in? %>
  
  <ul>
    <li id="view">View List</li>
  </ul>

  
  
  <div class="listview hidden">
    <h2> Lists </h2>
    <%= link_to 'New List', new_list_path %>
    <br />
    <% @lists.each do |list| %>
        <h3> 
          <%= link_to list.name, list_places_path(:list_id => list.id) %>
        </h3> 
        <%= link_to 'Edit', edit_list_path(list) %>
        <%= link_to 'Destroy', list, method: :delete, data: { confirm: 'Are you sure?' } %>
      <ul>
        <% list.places.each do |place|  %>
          <li> 
            <%= link_to place.name, list_place_path(:list_id => list.id, :id => place.id) %>
            <%= link_to 'Edit', edit_list_place_path(:list_id => list.id, :id => place.id) %>
            <%= link_to 'Destroy', list_place_path(:list_id => list.id, :id => place.id), method: :delete, data: { confirm: 'Are you sure?' } %>
          </li>
        <% end %>
      </ul>
    <% end %>
  </div>
<% else %>
  <%= link_to 'Start adding some places', new_list_path %>
<% end %>

  <div id="filters">
    <ul>
    <% @lists.each do |list| %>
      <li><%= list.name %></li>
    <% end %>
    </ul>
  </div>  

<div id="map-canvas" ></div>
<%= javascript_include_tag "places" %>

